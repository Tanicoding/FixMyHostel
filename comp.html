<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>FixMyHostel - Complaint Management</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
</head>
<body>

  <!-- Navbar -->
  <nav class="navbar">
    <div class="logo">FixMyHostel</div>
    <div class="nav-links">
      <a href="index.html">Home</a>
      <a href="dashb.html">Dashboard</a>
      <a href="comp.html" class="active">Complaint</a>
      <a href="status.html">Status</a>
      <a href="login.html" class="login-btn">Logout</a>
    </div>
  </nav>

  <!-- Complaint Management Overview Section -->
  <section class="complaint-info">
    <div class="info-content">
      <h2>Smart Complaint Management for Your Hostel</h2>
      <p>
        FixMyHostel‚Äôs Complaint Management System helps hostel residents raise, monitor, 
        and resolve issues efficiently. It ensures transparent communication between students 
        and the administration for a better hostel experience.
      </p>
      <ul class="benefits">
        <li>‚úÖ Quick and simple complaint submission</li>
        <li>‚öôÔ∏è Category-based sorting for faster handling</li>
        <li>üìä Real-time tracking and status updates</li>
        <li>üîî Automated reminders and notifications</li>
      </ul>
    </div>
    <div class="info-image">
      <img src="Screenshot 2025-10-29 at 17.44.06.png" alt="Complaint Management Dashboard">
    </div>
  </section>

  <!-- How It Works Section -->
  <section class="how-it-works">
    <h2>How It Works</h2>
    <div class="steps-grid">
      <div class="step-card">
        <h3>1. Submit Complaint</h3>
        <p>Students fill out a simple form describing their issue and select a category like Maintenance or Food.</p>
      </div>
      <div class="step-card">
        <h3>2. Admin Review</h3>
        <p>The hostel admin reviews the complaint, assigns it to the concerned department, and updates its status.</p>
      </div>
      <div class="step-card">
        <h3>3. Resolution & Feedback</h3>
        <p>Once resolved, students are notified and can provide feedback to help improve hostel services.</p>
      </div>
    </div>
  </section>

  <!-- Complaint Submission + Recent Complaints -->
  <div class="container">
    <div class="complaint-form">
      <h3>Submit a Complaint</h3>
      <form>
        <input type="text" placeholder="Complaint Title" required>
        <textarea rows="5" placeholder="Describe your issue..." required></textarea>
        <select required>
          <option value="" disabled selected>Category</option>
          <option>Room Issue</option>
          <option>Mess / Food</option>
          <option>Maintenance</option>
          <option>Other</option>
        </select>
        <button type="submit">Submit Complaint</button>
      </form>
    </div>

    <div class="recent-complaints">
      <h3>Recent Complaints</h3>
      <div class="complaint-card">
        <h4>Leaky Faucet</h4>
        <p>Category: Maintenance</p>
        <p>Date: 22 Oct 2025</p>
        <p>Status: <span class="status status-inprogress">In Progress</span></p>
      </div>
      <div class="complaint-card">
        <h4>Room Heater Not Working</h4>
        <p>Category: Room Issue</p>
        <p>Date: 20 Oct 2025</p>
        <p>Status: <span class="status status-pending">Pending</span></p>
      </div>
      <div class="complaint-card">
        <h4>Mess Food Quality</h4>
        <p>Category: Mess / Food</p>
        <p>Date: 18 Oct 2025</p>
        <p>Status: <span class="status status-resolved">Resolved</span></p>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer>
    <div class="footer-inline">
      <p>¬© 2025 FixMyHostel ‚Äî Making Hostels Smarter üåø</p>
      <p>Made with ‚ù§Ô∏è by <strong>Team OnlyCodes</strong></p>
      <p>Contact Us: 
        <a href="mailto:contact@fixmyhostel.com">contact@fixmyhostel.com</a> | 
        <a href="tel:+919876543210">+91 98765 43210</a>
      </p>
    </div>
  </footer>

  <script>
  // Optional: clear data on refresh (for demo)
  localStorage.clear();

  document.addEventListener('DOMContentLoaded', loadComplaints);

  document.querySelector('form').addEventListener('submit', function (e) {
    e.preventDefault();

    const title = this.querySelector('input').value.trim();
    const description = this.querySelector('textarea').value.trim();
    const category = this.querySelector('select').value;

    if (!title || !description || !category) {
      alert('‚ö†Ô∏è Please fill in all fields!');
      return;
    }

    // Generate unique Complaint ID
    const complaintID = 'CMP-' + Date.now().toString().slice(-6);

    // ‚úÖ Determine priority automatically
    const priority = getPriorityLevel(title + " " + description);

    // Create complaint object
    const newComplaint = {
      id: Date.now(),
      complaintID,
      title,
      description,
      category,
      priority,
      date: new Date().toLocaleDateString('en-IN'),
      status: 'Pending'
    };

    // Save to localStorage
    const complaints = JSON.parse(localStorage.getItem('complaints') || '[]');
    complaints.unshift(newComplaint);
    localStorage.setItem('complaints', JSON.stringify(complaints));

    alert(`‚úÖ Complaint submitted successfully!\nYour Complaint ID: ${complaintID}\nPriority: ${priority}`);
    this.reset();
    loadComplaints();
  });

  // üîç Auto-priority detection based on keywords
  function getPriorityLevel(text) {
    text = text.toLowerCase();

    const highKeywords = ['fire', 'water', 'leak', 'electric', 'shock', 'broken', 'urgent', 'danger', 'no light', 'no power'];
    const mediumKeywords = ['food', 'mess', 'wifi', 'cleaning', 'dirty', 'slow', 'noise'];
    const normalKeywords = ['suggestion', 'request', 'improve', 'feedback', 'help'];

    if (highKeywords.some(k => text.includes(k))) return 'High';
    if (mediumKeywords.some(k => text.includes(k))) return 'Medium';
    if (normalKeywords.some(k => text.includes(k))) return 'Normal';
    
    return 'Medium'; // default
  }

  // Load complaints
  function loadComplaints() {
    const complaints = JSON.parse(localStorage.getItem('complaints') || '[]');
    const container = document.querySelector('.recent-complaints');

    if (complaints.length === 0) {
      container.innerHTML = `<h3>Recent Complaints</h3><p>No complaints yet.</p>`;
      return;
    }

    container.innerHTML = `<h3>Recent Complaints</h3>` +
      complaints.map(c => `
        <div class="complaint-card">
          <h4>${c.title}</h4>
          <p><strong>ID:</strong> ${c.complaintID}</p>
          <p>Category: ${c.category}</p>
          <p>Date: ${c.date}</p>
          <p>Status: <span class="status status-${c.status.toLowerCase()}">${c.status}</span></p>
          <p><strong>Priority:</strong> 
            <span class="priority ${c.priority.toLowerCase()}">${c.priority}</span>
          </p>
        </div>
      `).join('');
  }
</script>







</body>
</html>


